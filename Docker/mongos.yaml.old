version: '2'
services:
  mongo_shard_1:
    container_name: mongo_shard_1
    image: mongo
    command: mongos --configdb mongo_ReplicaSet_1_conf/mongocfg1:27017,mongocfg2:27017,mongocfg3:27017 --port 27017
    ports:
      - 27019:27017
    expose:
      - "27017"
    volumes:
      - /etc/localtime:/etc/localtime:ro
  mongo_shard_2:
    container_name: mongo_shard_2
    image: mongo
    command: mongos --configdb mongo_ReplicaSet_1_conf/mongocfg1:27017,mongocfg2:27017,mongocfg3:27017 --port 27017
    ports:
      - 27020:27017
    expose:
      - "27017"
    volumes:
      - /etc/localtime:/etc/localtime:ro
  mongo_shard_3:
    container_name: mongo_shard_3
    image: mongo
    command: mongos --configdb mongo_ReplicaSet_1_conf/mongocfg1:27017,mongocfg2:27017,mongocfg3:27017 --port 27017
    ports:
      - 27021:27017
    expose:
      - "27017"
    volumes:
      - /etc/localtime:/etc/localtime:ro